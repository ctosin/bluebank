<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html
	xmlns:faces="jakarta.faces"
	xmlns:h="jakarta.faces.html"
	xmlns:ui="jakarta.faces.facelets"
	xmlns:f="jakarta.faces.core">
	
	<h:body>
		<ui:composition template="/WEB-INF/template.xhtml">
			<f:metadata>
				<f:viewParam name="accountId" value="#{accountBean.accountId}" />
			</f:metadata>
				
			<ui:define name="title">Movimentos</ui:define>
			
			<ui:define name="content">
				<br />
				<h:button value="Novo Movimento" outcome="create_movement">
					<f:param name="accountId" value="#{accountBean.accountId}" />
				</h:button>
				<br />
				<br />
			
				<table>
					<tr>
						<th width="100">Data</th>
						<th width="200">Descrição</th>
						<th width="100">Tipo</th>
						<th width="100">Valor</th>
						<th width="100">Saldo</th>
					</tr>
					<ui:repeat value="#{accountBean.movements}" var="movement">
						<tr>
							<td>#{movement.formattedDate}</td>
							<td>#{movement.description}</td>
							<td>#{movement.formattedType}</td>
							<td>#{movement.formattedAmount}</td>
							<td>#{movement.formattedBalance}</td>
						</tr>
					</ui:repeat>
					<h:panelGroup rendered="#{empty accountBean.movements}">
						<tr>
							<td colspan="5">Nenhum movimento cadastrado</td>
						</tr>
					</h:panelGroup>
				</table>
				
				<br /><h:link value="&lt;&lt;Tela inicial" outcome="home" />
			</ui:define>
		</ui:composition>
	</h:body>
</html>
